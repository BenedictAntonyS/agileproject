"use strict";
exports.__esModule = true;
var react_1 = require("react");
var react_router_dom_1 = require("react-router-dom");
var lucide_react_1 = require("lucide-react");
var UserContext_1 = require("../context/UserContext");
var EventCalendar_1 = require("../components/user/EventCalendar");
var EventList_1 = require("../components/user/EventList");
var Banner_1 = require("../components/user/Banner");
var UserProfile_1 = require("../components/user/UserProfile");
var UserSettings_1 = require("../components/user/UserSettings");
var sampleEvents = [
    {
        id: 1,
        title: "Tech Innovation Summit",
        description: "Join us for a day of cutting-edge technology discussions and networking.",
        date: "2024-03-20",
        time: "09:00",
        location: "Main Auditorium",
        image: "https://images.unsplash.com/photo-1540575467063-178a50c2df87?auto=format&fit=crop&q=80&w=1000",
        category: "Technology",
        bannerImage: "https://images.unsplash.com/photo-1505373877841-8d25f7d46678?auto=format&fit=crop&q=80&w=2000",
        registrationFee: "Free",
        organizer: "Computer Science Department"
    },
    {
        id: 2,
        title: "Spring Cultural Fest",
        description: "Annual cultural celebration featuring performances, art, and food.",
        date: "2024-03-25",
        time: "14:00",
        location: "Campus Square",
        image: "https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&q=80&w=1000",
        category: "Cultural",
        bannerImage: "https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&q=80&w=2000",
        registrationFee: "$10",
        organizer: "Student Cultural Committee"
    },
    {
        id: 3,
        title: "Career Fair 2024",
        description: "Meet top employers and explore internship opportunities.",
        date: "2024-03-28",
        time: "10:00",
        location: "Student Center",
        image: "https://images.unsplash.com/photo-1515187029135-18ee286d815b?auto=format&fit=crop&q=80&w=1000",
        category: "Career",
        bannerImage: "https://images.unsplash.com/photo-1521737711867-e3b97375f902?auto=format&fit=crop&q=80&w=2000",
        registrationFee: "Free",
        organizer: "Career Development Center"
    }
];
var UserDashboard = function () {
    var _a = UserContext_1.useUser(), isAuthenticated = _a.isAuthenticated, userData = _a.userData, logout = _a.logout;
    var _b = react_1.useState('list'), view = _b[0], setView = _b[1];
    var _c = react_1.useState(new Date().toISOString().split('T')[0]), selectedDate = _c[0], setSelectedDate = _c[1];
    var _d = react_1.useState(false), showRegistration = _d[0], setShowRegistration = _d[1];
    var _e = react_1.useState(null), selectedEvent = _e[0], setSelectedEvent = _e[1];
    var _f = react_1.useState('events'), activeTab = _f[0], setActiveTab = _f[1];
    var navigate = react_router_dom_1.useNavigate();
    // Redirect if not authenticated
    if (!isAuthenticated) {
        return react_1["default"].createElement(react_router_dom_1.Navigate, { to: "/login" });
    }
    var handleLogout = function () {
        logout();
        navigate('/login');
    };
    return (react_1["default"].createElement("div", { className: "min-h-screen bg-gray-50 flex" },
        react_1["default"].createElement("div", { className: "w-64 bg-indigo-600 text-white min-h-screen p-4 hidden md:block" },
            react_1["default"].createElement("div", { className: "mb-8" },
                react_1["default"].createElement("h1", { className: "text-2xl font-bold" }, "Campus Connect"),
                react_1["default"].createElement("p", { className: "text-indigo-200 text-sm" }, "Student Dashboard")),
            react_1["default"].createElement("nav", { className: "space-y-1" },
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('events'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'events' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.Home, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Events")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('calendar'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'calendar' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.Calendar, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Calendar")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('myEvents'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'myEvents' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.Clock, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "My Events")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('notifications'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'notifications' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.Bell, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Notifications")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('feedback'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'feedback' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.MessageSquare, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "My Feedback")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('profile'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'profile' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.User, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Profile")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('settings'); }, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors " + (activeTab === 'settings' ? 'bg-indigo-700' : 'hover:bg-indigo-700/50') },
                    react_1["default"].createElement(lucide_react_1.Settings, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Settings"))),
            react_1["default"].createElement("div", { className: "mt-auto pt-6" },
                react_1["default"].createElement("button", { onClick: handleLogout, className: "flex items-center space-x-3 w-full px-4 py-3 rounded-lg hover:bg-indigo-700/50 transition-colors" },
                    react_1["default"].createElement(lucide_react_1.LogOut, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", null, "Logout")))),
        react_1["default"].createElement("div", { className: "flex-1 flex flex-col" },
            react_1["default"].createElement("header", { className: "bg-indigo-600 text-white md:hidden" },
                react_1["default"].createElement("div", { className: "container mx-auto px-4 py-4" },
                    react_1["default"].createElement("div", { className: "flex items-center justify-between" },
                        react_1["default"].createElement("div", { className: "flex items-center space-x-2" },
                            react_1["default"].createElement(lucide_react_1.Calendar, { className: "h-6 w-6" }),
                            react_1["default"].createElement("h1", { className: "text-xl font-bold" }, "Campus Connect")),
                        react_1["default"].createElement("button", { onClick: function () { return setActiveTab('profile'); } },
                            react_1["default"].createElement(lucide_react_1.User, { className: "h-6 w-6" }))))),
            react_1["default"].createElement("header", { className: "bg-white shadow-sm p-4 hidden md:flex justify-between items-center" },
                react_1["default"].createElement("h2", { className: "text-xl font-semibold text-gray-800" },
                    activeTab === 'events' && 'Upcoming Events',
                    activeTab === 'calendar' && 'Event Calendar',
                    activeTab === 'myEvents' && 'My Registered Events',
                    activeTab === 'notifications' && 'Notifications',
                    activeTab === 'feedback' && 'My Feedback',
                    activeTab === 'profile' && 'My Profile',
                    activeTab === 'settings' && 'Account Settings'),
                react_1["default"].createElement("div", { className: "flex items-center space-x-4" },
                    react_1["default"].createElement("div", { className: "relative" },
                        react_1["default"].createElement(lucide_react_1.Bell, { className: "w-5 h-5 text-gray-600 cursor-pointer" }),
                        react_1["default"].createElement("span", { className: "absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center" }, "2")),
                    react_1["default"].createElement("div", { className: "flex items-center space-x-2" },
                        react_1["default"].createElement("div", { className: "bg-indigo-100 rounded-full p-2" },
                            react_1["default"].createElement(lucide_react_1.User, { className: "w-5 h-5 text-indigo-600" })),
                        react_1["default"].createElement("span", { className: "text-sm font-medium" }, userData === null || userData === void 0 ? void 0 : userData.name)))),
            react_1["default"].createElement("div", { className: "bg-white shadow-sm p-2 flex justify-between md:hidden" },
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('events'); }, className: "flex flex-col items-center p-2 " + (activeTab === 'events' ? 'text-indigo-600' : 'text-gray-500') },
                    react_1["default"].createElement(lucide_react_1.Home, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", { className: "text-xs mt-1" }, "Events")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('calendar'); }, className: "flex flex-col items-center p-2 " + (activeTab === 'calendar' ? 'text-indigo-600' : 'text-gray-500') },
                    react_1["default"].createElement(lucide_react_1.Calendar, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", { className: "text-xs mt-1" }, "Calendar")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('myEvents'); }, className: "flex flex-col items-center p-2 " + (activeTab === 'myEvents' ? 'text-indigo-600' : 'text-gray-500') },
                    react_1["default"].createElement(lucide_react_1.Clock, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", { className: "text-xs mt-1" }, "My Events")),
                react_1["default"].createElement("button", { onClick: function () { return setActiveTab('notifications'); }, className: "flex flex-col items-center p-2 " + (activeTab === 'notifications' ? 'text-indigo-600' : 'text-gray-500') },
                    react_1["default"].createElement(lucide_react_1.Bell, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", { className: "text-xs mt-1" }, "Alerts")),
                react_1["default"].createElement("button", { onClick: handleLogout, className: "flex flex-col items-center p-2 text-gray-500" },
                    react_1["default"].createElement(lucide_react_1.LogOut, { className: "w-5 h-5" }),
                    react_1["default"].createElement("span", { className: "text-xs mt-1" }, "Logout"))),
            react_1["default"].createElement("main", { className: "flex-1 overflow-auto p-4" },
                activeTab === 'events' && (react_1["default"].createElement(react_1["default"].Fragment, null,
                    react_1["default"].createElement(Banner_1["default"], { events: sampleEvents }),
                    react_1["default"].createElement("div", { className: "mt-6" },
                        react_1["default"].createElement("div", { className: "flex justify-between items-center mb-4" },
                            react_1["default"].createElement("h2", { className: "text-2xl font-bold text-gray-800" }, "Upcoming Events"),
                            react_1["default"].createElement("div", { className: "flex space-x-2" },
                                react_1["default"].createElement("button", { onClick: function () { return setView('list'); }, className: "p-2 rounded-lg " + (view === 'list' ? 'bg-indigo-100 text-indigo-600' : 'text-gray-500') }, "List View"),
                                react_1["default"].createElement("button", { onClick: function () { return setView('calendar'); }, className: "p-2 rounded-lg " + (view === 'calendar' ? 'bg-indigo-100 text-indigo-600' : 'text-gray-500') }, "Calendar View"))),
                        view === 'calendar' ? (react_1["default"].createElement(EventCalendar_1["default"], { events: sampleEvents, selectedDate: selectedDate, onDateSelect: setSelectedDate })) : (react_1["default"].createElement(EventList_1["default"], { events: sampleEvents, onRegister: function (event) {
                                setSelectedEvent(event);
                                setShowRegistration(true);
                            } }))))),
                activeTab === 'calendar' && (react_1["default"].createElement("div", { className: "bg-white rounded-lg shadow p-6" },
                    react_1["default"].createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "Event Calendar"),
                    react_1["default"].createElement(EventCalendar_1["default"], { events: sampleEvents, selectedDate: selectedDate, onDateSelect: setSelectedDate }))),
                activeTab === 'myEvents' && (react_1["default"].createElement("div", { className: "bg-white rounded-lg shadow p-6" },
                    react_1["default"].createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "My Registered Events"),
                    react_1["default"].createElement("div", { className: "space-y-4" },
                        react_1["default"].createElement("div", { className: "border rounded-lg p-4" },
                            react_1["default"].createElement("div", { className: "flex justify-between" },
                                react_1["default"].createElement("div", null,
                                    react_1["default"].createElement("h3", { className: "font-semibold text-lg" }, "Tech Innovation Summit"),
                                    react_1["default"].createElement("p", { className: "text-gray-500" }, "March 20, 2024 \u2022 09:00"),
                                    react_1["default"].createElement("p", { className: "text-gray-500" }, "Main Auditorium")),
                                react_1["default"].createElement("div", { className: "bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium h-fit" }, "Registered")),
                            react_1["default"].createElement("div", { className: "mt-4 flex justify-between items-center" },
                                react_1["default"].createElement("div", { className: "flex items-center text-sm text-gray-500" },
                                    react_1["default"].createElement(lucide_react_1.Clock, { className: "w-4 h-4 mr-1" }),
                                    react_1["default"].createElement("span", null, "2 days from now")),
                                react_1["default"].createElement("button", { className: "text-indigo-600 hover:text-indigo-800 text-sm font-medium" }, "View Details"))),
                        react_1["default"].createElement("div", { className: "border rounded-lg p-4" },
                            react_1["default"].createElement("div", { className: "flex justify-between" },
                                react_1["default"].createElement("div", null,
                                    react_1["default"].createElement("h3", { className: "font-semibold text-lg" }, "Spring Cultural Fest"),
                                    react_1["default"].createElement("p", { className: "text-gray-500" }, "March 25, 2024 \u2022 14:00"),
                                    react_1["default"].createElement("p", { className: "text-gray-500" }, "Campus Square")),
                                react_1["default"].createElement("div", { className: "bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium h-fit" }, "Registered")),
                            react_1["default"].createElement("div", { className: "mt-4 flex justify-between items-center" },
                                react_1["default"].createElement("div", { className: "flex items-center text-sm text-gray-500" },
                                    react_1["default"].createElement(lucide_react_1.Clock, { className: "w-4 h-4 mr-1" }),
                                    react_1["default"].createElement("span", null, "7 days from now")),
                                react_1["default"].createElement("button", { className: "text-indigo-600 hover:text-indigo-800 text-sm font-medium" }, "View Details")))))),
                activeTab === 'notifications' && (react_1["default"].createElement("div", { className: "bg-white rounded-lg shadow p-6" },
                    react_1["default"].createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "Notifications"),
                    react_1["default"].createElement("div", { className: "space-y-4" },
                        react_1["default"].createElement("div", { className: "border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded-r-lg" },
                            react_1["default"].createElement("p", { className: "font-medium" }, "Event Reminder"),
                            react_1["default"].createElement("p", { className: "text-sm text-gray-600" }, "Tech Innovation Summit is tomorrow at 09:00"),
                            react_1["default"].createElement("p", { className: "text-xs text-gray-400 mt-1" }, "1 hour ago")),
                        react_1["default"].createElement("div", { className: "border-l-4 border-green-500 pl-4 py-2 bg-green-50 rounded-r-lg" },
                            react_1["default"].createElement("p", { className: "font-medium" }, "Registration Confirmed"),
                            react_1["default"].createElement("p", { className: "text-sm text-gray-600" }, "Your registration for Spring Cultural Fest has been confirmed"),
                            react_1["default"].createElement("p", { className: "text-xs text-gray-400 mt-1" }, "Yesterday")),
                        react_1["default"].createElement("div", { className: "border-l-4 border-yellow-500 pl-4 py-2 bg-yellow-50 rounded-r-lg" },
                            react_1["default"].createElement("p", { className: "font-medium" }, "New Event Added"),
                            react_1["default"].createElement("p", { className: "text-sm text-gray-600" }, "Career Fair 2024 has been added to the calendar"),
                            react_1["default"].createElement("p", { className: "text-xs text-gray-400 mt-1" }, "2 days ago"))))),
                activeTab === 'feedback' && (react_1["default"].createElement("div", { className: "bg-white rounded-lg shadow p-6" },
                    react_1["default"].createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "My Feedback"),
                    react_1["default"].createElement("div", { className: "space-y-6" },
                        react_1["default"].createElement("div", { className: "border rounded-lg p-4" },
                            react_1["default"].createElement("div", { className: "flex justify-between items-start" },
                                react_1["default"].createElement("div", null,
                                    react_1["default"].createElement("h3", { className: "font-semibold" }, "Tech Workshop: Web Development"),
                                    react_1["default"].createElement("p", { className: "text-sm text-gray-500" }, "Submitted on January 15, 2024")),
                                react_1["default"].createElement("div", { className: "flex items-center bg-yellow-100 px-2 py-1 rounded text-sm" },
                                    react_1["default"].createElement("span", { className: "text-yellow-700 font-medium" }, "4.5"),
                                    react_1["default"].createElement("span", { className: "text-yellow-500 ml-1" }, "\u2605"))),
                            react_1["default"].createElement("p", { className: "mt-2 text-gray-600" }, "Great workshop! Learned a lot about web development.")),
                        react_1["default"].createElement("div", { className: "border rounded-lg p-4" },
                            react_1["default"].createElement("div", { className: "flex justify-between items-start" },
                                react_1["default"].createElement("div", null,
                                    react_1["default"].createElement("h3", { className: "font-semibold" }, "Annual Cultural Fest"),
                                    react_1["default"].createElement("p", { className: "text-sm text-gray-500" }, "Submitted on February 10, 2024")),
                                react_1["default"].createElement("div", { className: "flex items-center bg-yellow-100 px-2 py-1 rounded text-sm" },
                                    react_1["default"].createElement("span", { className: "text-yellow-700 font-medium" }, "5.0"),
                                    react_1["default"].createElement("span", { className: "text-yellow-500 ml-1" }, "\u2605"))),
                            react_1["default"].createElement("p", { className: "mt-2 text-gray-600" }, "The cultural fest was amazing! Loved the performances."))))),
                activeTab === 'profile' && (react_1["default"].createElement(UserProfile_1["default"], { userData: userData })),
                activeTab === 'settings' && (react_1["default"].createElement(UserSettings_1["default"], null)))),
        showRegistration && selectedEvent && (react_1["default"].createElement("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" },
            react_1["default"].createElement("div", { className: "bg-white rounded-lg max-w-2xl w-full p-6" },
                react_1["default"].createElement("h2", { className: "text-2xl font-bold mb-4" },
                    "Register for ",
                    selectedEvent.title),
                react_1["default"].createElement("form", { className: "space-y-4" },
                    react_1["default"].createElement("div", null,
                        react_1["default"].createElement("label", { className: "block text-sm font-medium text-gray-700" }, "Full Name"),
                        react_1["default"].createElement("input", { type: "text", className: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" })),
                    react_1["default"].createElement("div", null,
                        react_1["default"].createElement("label", { className: "block text-sm font-medium text-gray-700" }, "Email"),
                        react_1["default"].createElement("input", { type: "email", className: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" })),
                    react_1["default"].createElement("div", null,
                        react_1["default"].createElement("label", { className: "block text-sm font-medium text-gray-700" }, "Phone Number"),
                        react_1["default"].createElement("input", { type: "tel", className: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" })),
                    react_1["default"].createElement("div", null,
                        react_1["default"].createElement("label", { className: "block text-sm font-medium text-gray-700" }, "Department/Year"),
                        react_1["default"].createElement("input", { type: "text", className: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" })),
                    react_1["default"].createElement("div", { className: "flex items-center mt-4" },
                        react_1["default"].createElement("input", { type: "checkbox", className: "rounded border-gray-300 text-indigo-600 focus:ring-indigo-500", id: "reminder" }),
                        react_1["default"].createElement("label", { htmlFor: "reminder", className: "ml-2 text-sm text-gray-600" }, "Send me event reminders")),
                    react_1["default"].createElement("div", { className: "flex justify-end space-x-4 mt-6" },
                        react_1["default"].createElement("button", { type: "button", onClick: function () { return setShowRegistration(false); }, className: "px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50" }, "Cancel"),
                        react_1["default"].createElement("button", { type: "submit", className: "px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700" }, "Register"))))))));
};
exports["default"] = UserDashboard;
